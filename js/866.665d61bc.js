"use strict";(self["webpackChunkmid_term_project"]=self["webpackChunkmid_term_project"]||[]).push([[866],{866:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var l=a(8653),i=(a(8706),a(4114),a(2712),a(1688),a(739),a(3288),a(3110),a(9868),a(6099),a(7764),a(2953),a(6031),a(3296),a(7208),a(8408),a(4603),a(7566),a(8721),a(6768)),s=a(5130),o=a(144),r=a(4232),d=a(3854),n=a(1010),u={class:"p-6"},c={class:"md:flex md:items-center md:justify-between mb-6"},v={class:"mt-4 flex space-x-3 md:mt-0"},m={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},g={class:"bg-white rounded-lg shadow p-6"},h={class:"h-80"},p={class:"bg-white rounded-lg shadow p-6"},b={class:"h-80"},L={class:"bg-white rounded-lg shadow p-6"},k={class:"h-80"},x={class:"bg-white rounded-lg shadow p-6"},y={class:"h-80"},f={class:"mt-6 bg-white rounded-lg shadow"},M={class:"px-4 py-5 sm:p-6"},A={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},w={class:"text-sm font-medium text-gray-500"},C={class:"mt-1 flex items-baseline justify-between"},F={class:"text-2xl font-semibold"};const R=(0,i.pM)({__name:"DashboardMetrics",setup:function(e){d.t1.register(d.PP,d.kc,d.FN,d.No,d.hE,d.m_,d.s$);var t=(0,o.KR)("24h"),a=(0,o.KR)({labels:[],datasets:[{label:"Temperature (째C)",backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"#EF4444",data:[],tension:.4}]}),R=(0,o.KR)({labels:[],datasets:[{label:"Humidity (%)",backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"#3B82F6",data:[],tension:.4}]}),T=(0,o.KR)({labels:[],datasets:[{label:"Soil Moisture (%)",backgroundColor:"rgba(16, 185, 129, 0.2)",borderColor:"#10B981",data:[],tension:.4}]}),S=(0,o.KR)({labels:[],datasets:[{label:"Light Level (lux)",backgroundColor:"rgba(245, 158, 11, 0.2)",borderColor:"#F59E0B",data:[],tension:.4}]}),_={temperature:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Temperature (째C)"}}}},humidity:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Humidity (%)"}}}},soilMoisture:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Soil Moisture (%)"}}}},lightLevel:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Light Level (lux)"}}}}},H=(0,o.KR)({avgTemp:{label:"Average Temperature",value:"23.5째C",trend:2.4},avgHumidity:{label:"Average Humidity",value:"65%",trend:-1.2},avgMoisture:{label:"Average Soil Moisture",value:"72%",trend:.8},avgLight:{label:"Average Light Level",value:"5240 lux",trend:3.5}}),j=function(e){var t,a;switch(e){case"1h":t=60,a=6e4;break;case"24h":t=144,a=6e5;break;case"7d":t=168,a=36e5;break;case"30d":t=180,a=144e5;break;default:t=144,a=6e5}for(var l=new Date,i=[],s={temperature:[],humidity:[],soilMoisture:[],lightLevel:[]},o=t-1;o>=0;o--){var r=new Date(l.getTime()-o*a),d=void 0;d="1h"===e||"24h"===e?r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):r.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit"}),i.push(d);var n=r.getHours(),u=Math.sin((n-6)*Math.PI/12),c=23+5*u;s.temperature.push(+(c+(2*Math.random()-1)).toFixed(1));var v=55-15*u;s.humidity.push(+(v+(5*Math.random()-2.5)).toFixed(1));var m=65+15*Math.sin(.1*o);s.soilMoisture.push(+(m+(3*Math.random()-1.5)).toFixed(1));var g=Math.max(0,8e3*u);s.lightLevel.push(Math.floor(g+1e3*Math.random()))}return{labels:i,data:s}},D=function(){var e=j(t.value),i=e.labels,s=e.data;a.value={labels:i,datasets:[(0,l.A)((0,l.A)({},a.value.datasets[0]),{},{data:s.temperature})]},R.value={labels:i,datasets:[(0,l.A)((0,l.A)({},R.value.datasets[0]),{},{data:s.humidity})]},T.value={labels:i,datasets:[(0,l.A)((0,l.A)({},T.value.datasets[0]),{},{data:s.soilMoisture})]},S.value={labels:i,datasets:[(0,l.A)((0,l.A)({},S.value.datasets[0]),{},{data:s.lightLevel})]},H.value={avgTemp:{label:"Average Temperature",value:"".concat((s.temperature.reduce((function(e,t){return e+t}),0)/s.temperature.length).toFixed(1),"째C"),trend:+(s.temperature[s.temperature.length-1]-s.temperature[0]).toFixed(1)},avgHumidity:{label:"Average Humidity",value:"".concat((s.humidity.reduce((function(e,t){return e+t}),0)/s.humidity.length).toFixed(1),"%"),trend:+(s.humidity[s.humidity.length-1]-s.humidity[0]).toFixed(1)},avgMoisture:{label:"Average Soil Moisture",value:"".concat((s.soilMoisture.reduce((function(e,t){return e+t}),0)/s.soilMoisture.length).toFixed(1),"%"),trend:+(s.soilMoisture[s.soilMoisture.length-1]-s.soilMoisture[0]).toFixed(1)},avgLight:{label:"Average Light Level",value:"".concat(Math.round(s.lightLevel.reduce((function(e,t){return e+t}),0)/s.lightLevel.length)," lux"),trend:+((s.lightLevel[s.lightLevel.length-1]-s.lightLevel[0])/100).toFixed(1)}}},E=function(){var e={timeRange:t.value,temperature:a.value,humidity:R.value,soilMoisture:T.value,lightLevel:S.value,statistics:H.value},l=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(l),s=document.createElement("a");s.href=i,s.download="greenhouse-metrics-".concat(t.value,"-").concat((new Date).toISOString(),".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)};return(0,i.wB)(t,(function(e){D()})),(0,i.sV)((function(){D();var e=setInterval((function(){"1h"===t.value&&D()}),6e4);(0,i.hi)((function(){clearInterval(e)}))})),function(e,l){return(0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("div",c,[l[2]||(l[2]=(0,i.Lk)("h2",{class:"text-2xl font-bold text-gray-900"},"Metrics & Analytics",-1)),(0,i.Lk)("div",v,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":l[0]||(l[0]=function(e){return t.value=e}),class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},l[1]||(l[1]=[(0,i.Lk)("option",{value:"1h"},"Last Hour",-1),(0,i.Lk)("option",{value:"24h"},"Last 24 Hours",-1),(0,i.Lk)("option",{value:"7d"},"Last 7 Days",-1),(0,i.Lk)("option",{value:"30d"},"Last 30 Days",-1)]),512),[[s.u1,t.value]]),(0,i.Lk)("button",{onClick:E,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"}," Export Data ")])]),(0,i.Lk)("div",m,[(0,i.Lk)("div",g,[l[3]||(l[3]=(0,i.Lk)("h3",{class:"text-lg font-medium mb-4"},"Temperature Trends",-1)),(0,i.Lk)("div",h,[(0,i.bF)((0,o.R1)(n.N1),{data:a.value,options:_.temperature},null,8,["data","options"])])]),(0,i.Lk)("div",p,[l[4]||(l[4]=(0,i.Lk)("h3",{class:"text-lg font-medium mb-4"},"Humidity Trends",-1)),(0,i.Lk)("div",b,[(0,i.bF)((0,o.R1)(n.N1),{data:R.value,options:_.humidity},null,8,["data","options"])])]),(0,i.Lk)("div",L,[l[5]||(l[5]=(0,i.Lk)("h3",{class:"text-lg font-medium mb-4"},"Soil Moisture Trends",-1)),(0,i.Lk)("div",k,[(0,i.bF)((0,o.R1)(n.N1),{data:T.value,options:_.soilMoisture},null,8,["data","options"])])]),(0,i.Lk)("div",x,[l[6]||(l[6]=(0,i.Lk)("h3",{class:"text-lg font-medium mb-4"},"Light Level Trends",-1)),(0,i.Lk)("div",y,[(0,i.bF)((0,o.R1)(n.N1),{data:S.value,options:_.lightLevel},null,8,["data","options"])])])]),(0,i.Lk)("div",f,[(0,i.Lk)("div",M,[l[7]||(l[7]=(0,i.Lk)("h3",{class:"text-lg font-medium mb-4"},"Statistics Summary",-1)),(0,i.Lk)("div",A,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(H.value,(function(e,t){return(0,i.uX)(),(0,i.CE)("div",{key:t,class:"p-4 border rounded-lg"},[(0,i.Lk)("h4",w,(0,r.v_)(e.label),1),(0,i.Lk)("div",C,[(0,i.Lk)("div",F,(0,r.v_)(e.value),1),(0,i.Lk)("div",{class:(0,r.C4)("text-sm ".concat(e.trend>=0?"text-green-600":"text-red-600"))},(0,r.v_)(e.trend>=0?"+":"")+(0,r.v_)(e.trend)+"% ",3)])])})),128))])])])])}}}),T=R,S=T}}]);
//# sourceMappingURL=866.665d61bc.js.map